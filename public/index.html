<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุนุฑูุฉ ูุฑุงุช ุงูุฏุฑุฏุดุฉ - ุชูู ุชูู ูุงูู</title>
    <link rel="stylesheet" href="style.css">
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <div class="game-container">
        <h1 class="game-title">โ๏ธ ูุนุฑูุฉ ูุฑุงุช ุงูุฏุฑุฏุดุฉ</h1>

        <div class="connection-panel">
            <div class="input-group">
                <input type="text" id="usernameInput" placeholder="ุงุฏุฎู ุงุณู ุงููุณุชุฎุฏู ูู ุชูู ุชูู">
                <button id="connectBtn">ุงุชุตุงู</button>
                <button id="disconnectBtn" disabled>ูุทุน ุงูุงุชุตุงู</button>
            </div>
            <div id="connectionStatus" class="status">ุบูุฑ ูุชุตู</div>
        </div>

        <div class="stats-panel">
            <div class="stat">
                <span class="stat-label">ุนุฏุฏ ุงููุดุงูุฏูู:</span>
                <span id="viewerCount">0</span>
            </div>
            <div class="stat">
                <span class="stat-label">ุงููุฑุงุช ุงููุดุทุฉ:</span>
                <span id="activeBalls">0</span>
            </div>
            <div class="stat">
                <button id="fullscreenBtn" onclick="toggleFullscreen()">๐ฑ ุดุงุดุฉ ูุงููุฉ</button>
            </div>
        </div>

        <div id="gameArea" class="game-area">
            <canvas id="gameCanvas" width="800" height="600"></canvas>
        </div>

        <div class="controls">
            ๐ฎ ูู ุดุฎุต ููุชุจ ูู ุงูุฏุฑุฏุดุฉ ูุธูุฑ ููุฑุฉ ูุชุญุฑูุฉ ุจุตูุฑุชู ูุงุณูู
            <br>
            ๐ฅ ุงููุฑุงุช ุชุฑุชุฏ ูุชุชูุงุนู ูุน ุจุนุถ โข ๐ ุงููุฏุงูุง ุชุนุทู ุทุงูุฉ ุฅุถุงููุฉ โข โค๏ธ ุงูุฅุนุฌุงุจุงุช ุชุฒูุฏ ุงูุญุฌู
            <br>
            ๐ซ ุงูุชูุท ุงููุณุฏุณุงุช ูุฅุทูุงู ุงููุงุฑ ุนูู ุงููุฑุงุช ุงูุฃุฎุฑู โข ๐ต <button id="audioToggle" onclick="toggleAudio()">ุฅููุงู ุงูุตูุช</button>
        </div>

        <script>
            function toggleAudio() {
                audioEnabled = !audioEnabled;
                document.getElementById('audioToggle').textContent = audioEnabled ? 'ุฅููุงู ุงูุตูุช' : 'ุชุดุบูู ุงูุตูุช';
            }

            function toggleFullscreen() {
                const gameArea = document.getElementById('gameArea');
                const fullscreenBtn = document.getElementById('fullscreenBtn');
                
                if (!document.fullscreenElement) {
                    gameArea.requestFullscreen().then(() => {
                        gameArea.classList.add('fullscreen-mode');
                        fullscreenBtn.textContent = '๐ ุฎุฑูุฌ';
                        resizeCanvas();
                    }).catch(err => {
                        console.log('Fullscreen error:', err);
                    });
                } else {
                    document.exitFullscreen().then(() => {
                        gameArea.classList.remove('fullscreen-mode');
                        fullscreenBtn.textContent = '๐ฑ ุดุงุดุฉ ูุงููุฉ';
                        resizeCanvas();
                    });
                }
            }

            // Listen for fullscreen changes
            document.addEventListener('fullscreenchange', () => {
                const gameArea = document.getElementById('gameArea');
                const fullscreenBtn = document.getElementById('fullscreenBtn');
                
                if (!document.fullscreenElement) {
                    gameArea.classList.remove('fullscreen-mode');
                    fullscreenBtn.textContent = '๐ฑ ุดุงุดุฉ ูุงููุฉ';
                    resizeCanvas();
                }
            });
        </script>
    </div>

    <script src="script.js"></script>
</body>
</html>